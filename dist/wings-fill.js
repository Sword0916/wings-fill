!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.WingsFill=i():t.WingsFill=i()}(self,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};function e(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}function s(t){return"function"==typeof t}t.d(i,{default:()=>o});class n{constructor(){this.startTime=null,this.finishTime=null,this.deltaTime=null,this.pauseTime=null,this.delayTime=0,this.pauseDuration=0}start(){this.pauseTime=null,this.pauseDuration=0,this.startTime=Date.now()}pause(){this.pauseTime=Date.now()}play(){this.pauseDuration+=this.pauseTime?Date.now()-this.pauseTime:0}delay(t){this.delayTime=t}timing(){this.deltaTime=Date.now()-this.startTime-this.pauseDuration-this.delayTime,this.deltaTime=this.deltaTime>0?this.deltaTime:0}stop(){this.finishTime=Date.now(),this.deltaTime=this.finishTime-this.startTime-this.pauseDuration-this.delayTime,this.deltaTime=this.deltaTime>0?this.deltaTime:0}correctTime(t){this.startTime-=t}}class a{constructor(t){this.original=new Map,this.saveOriginal(t)}saveOriginal(t){for(let i in t){const s=t[i];e(s)&&this.original.set(i,s)}}has(t){return this.original.has(t)}get(t){return this.original.has(t)?this.original.get(t):null}}const r={Linear:function(t,i,e,s){return e*t/s+i},Quad:{easeIn:function(t,i,e,s){return e*(t/=s)*t+i},easeOut:function(t,i,e,s){return-e*(t/=s)*(t-2)+i},easeInOut:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t+i:-e/2*(--t*(t-2)-1)+i}},Cubic:{easeIn:function(t,i,e,s){return e*(t/=s)*t*t+i},easeOut:function(t,i,e,s){return e*((t=t/s-1)*t*t+1)+i},easeInOut:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t+i:e/2*((t-=2)*t*t+2)+i}},Quart:{easeIn:function(t,i,e,s){return e*(t/=s)*t*t*t+i},easeOut:function(t,i,e,s){return-e*((t=t/s-1)*t*t*t-1)+i},easeInOut:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t*t+i:-e/2*((t-=2)*t*t*t-2)+i}},Quint:{easeIn:function(t,i,e,s){return e*(t/=s)*t*t*t*t+i},easeOut:function(t,i,e,s){return e*((t=t/s-1)*t*t*t*t+1)+i},easeInOut:function(t,i,e,s){return(t/=s/2)<1?e/2*t*t*t*t*t+i:e/2*((t-=2)*t*t*t*t+2)+i}},Sine:{easeIn:function(t,i,e,s){return-e*Math.cos(t/s*(Math.PI/2))+e+i},easeOut:function(t,i,e,s){return e*Math.sin(t/s*(Math.PI/2))+i},easeInOut:function(t,i,e,s){return-e/2*(Math.cos(Math.PI*t/s)-1)+i}},Expo:{easeIn:function(t,i,e,s){return 0==t?i:e*Math.pow(2,10*(t/s-1))+i},easeOut:function(t,i,e,s){return t==s?i+e:e*(1-Math.pow(2,-10*t/s))+i},easeInOut:function(t,i,e,s){return 0==t?i:t==s?i+e:(t/=s/2)<1?e/2*Math.pow(2,10*(t-1))+i:e/2*(2-Math.pow(2,-10*--t))+i}},Circ:{easeIn:function(t,i,e,s){return-e*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOut:function(t,i,e,s){return e*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOut:function(t,i,e,s){return(t/=s/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+i:e/2*(Math.sqrt(1-(t-=2)*t)+1)+i}},Elastic:{easeIn:function(t,i,e,s,n,a){var r;return 0==t?i:1==(t/=s)?i+e:(void 0===a&&(a=.3*s),!n||n<Math.abs(e)?(r=a/4,n=e):r=a/(2*Math.PI)*Math.asin(e/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/a)+i)},easeOut:function(t,i,e,s,n,a){var r;return 0==t?i:1==(t/=s)?i+e:(void 0===a&&(a=.3*s),!n||n<Math.abs(e)?(n=e,r=a/4):r=a/(2*Math.PI)*Math.asin(e/n),n*Math.pow(2,-10*t)*Math.sin((t*s-r)*(2*Math.PI)/a)+e+i)},easeInOut:function(t,i,e,s,n,a){var r;return 0==t?i:2==(t/=s/2)?i+e:(void 0===a&&(a=s*(.3*1.5)),!n||n<Math.abs(e)?(n=e,r=a/4):r=a/(2*Math.PI)*Math.asin(e/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/a)*-.5+i:n*Math.pow(2,-10*(t-=1))*Math.sin((t*s-r)*(2*Math.PI)/a)*.5+e+i)}},Back:{easeIn:function(t,i,e,s,n){return void 0===n&&(n=1.70158),e*(t/=s)*t*((n+1)*t-n)+i},easeOut:function(t,i,e,s,n){return void 0===n&&(n=1.70158),e*((t=t/s-1)*t*((n+1)*t+n)+1)+i},easeInOut:function(t,i,e,s,n){return void 0===n&&(n=1.70158),(t/=s/2)<1?e/2*(t*t*((1+(n*=1.525))*t-n))+i:e/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+i}},Bounce:{easeIn:function(t,i,e,s){return e-r.Bounce.easeOut(s-t,0,e,s)+i},easeOut:function(t,i,e,s){return(t/=s)<1/2.75?e*(7.5625*t*t)+i:t<2/2.75?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOut:function(t,i,e,s){return t<s/2?.5*r.Bounce.easeIn(2*t,0,e,s)+i:.5*r.Bounce.easeOut(2*t-s,0,e,s)+.5*e+i}}};class h{constructor(t){this.startEntity=t,this.endEntity=null,this.startEdge=null,this.endEdge=null,this.duration=100,this.isLoop=!1,this.repeatNum=1,this.startFun=null,this.updateFun=null,this.pauseFun=null,this.playFun=null,this.completeFun=null,this.easingFun=r.Linear,this.clock=new n,this.previousFill=null,this.nextFill=null,this.isStart=!1,this.isPause=!1,this.isComplete=!1,this.isReverse=!1,this.isYoyo=!1,Object.getPrototypeOf(h).instances.push(this)}reverse(){return this.isReverse=!this.isReverse,[this.startEdge,this.endEdge]=[this.endEdge,this.startEdge],this.isReverse?this.previousFill&&this.previousFill.isReverse!=this.isReverse&&this.previousFill.reverse():this.nextFill&&this.nextFill.isReverse!=this.isReverse&&this.nextFill.reverse(),this}from(t){return this.startEntity=t,this}to(t,i){return this.endEntity=t,this.duration=e(i)&&0!=i?i:this.duration,this}yoyo(t){return this.isYoyo="boolean"==typeof t&&t,this}repeat(t){return this.isLoop=!(e(t)&&t>=1),this.repeatNum=this.isLoop?1:Number.parseInt(t),this}easing(t){return this.easingFun=s(t)?t:r.Linear,this}start(){return this.isStart=!0,this.isPause=!1,this.isComplete=!1,this.startEdge=this.startEdge||new a(this.startEntity),this.endEdge=this.endEdge||new a(this.endEntity),this.clock.start(),this.startFun&&this.startFun(this.startEntity),this}delay(t){return e(t)&&this.clock.delay(t),this}update(){if(!this.isStart)return this;if(this.isComplete||this.isPause)this.isComplete&&this.nextFill&&this.nextFill.update();else{this.clock.timing();let t=this.clock.deltaTime/this.duration;!this.isLoop&&t>=this.repeatNum&&(this.clock.stop(),this.isComplete=!0),this._updateEntityValue(),this.updateFun&&this.updateFun(this.startEntity),this.isComplete&&this._handleComplete()}return this}pause(){this.isComplete||this.isPause?this.nextFill&&this.nextFill.pause():(this.isPause=!0,this.clock.pause(),this.pauseFun&&this.pauseFun(this.startEntity))}play(){!this.isComplete&&this.isPause?(this.isPause=!1,this.clock.play(),this.playFun&&this.playFun(this.startEntity)):this.nextFill&&this.nextFill.play()}chain(t){return t instanceof h?(this.nextFill=t,this.nextFill.yoyo(this.isYoyo),this.nextFill.previousFill=this):this.nextFill=null,this.nextFill}_updateEntityValue(){const t=this.clock.deltaTime%this.duration;this.endEdge.original.forEach(((i,e)=>{if(this.startEdge.has(e)){const s=this.startEdge.get(e),n=i-s;this.startEntity[e]=this.isComplete?i:this.easingFun(t,s,n,this.duration)}}))}_handleComplete(){this.completeFun&&this.completeFun(this.startEntity),!this.isReverse&&this.nextFill?(this.nextFill.startEntity||this.nextFill.from(this.startEntity),this.nextFill.start(),this.nextFill.clock.correctTime(this.clock.deltaTime%this.duration)):this.isReverse&&this.previousFill?(this.previousFill.startEntity||this.previousFill.from(this.startEntity),this.previousFill.start(),this.previousFill.clock.correctTime(this.clock.deltaTime%this.duration)):this.isYoyo&&(this.reverse().start(),this.clock.correctTime(this.clock.deltaTime%this.duration))}onStart(t){return this.startFun=s(t)?t:null,this}onUpdate(t){return this.updateFun=s(t)?t:null,this}onComplete(t){return this.completeFun=s(t)?t:null,this}onPause(t){return this.pauseFun=s(t)?t:null,this}onPlay(t){return this.playFun=s(t)?t:null,this}}const u=Object.getPrototypeOf(h);u.Easing=r,u.instances=[],u.update=()=>{u.instances.forEach((t=>{t.update()}))};const o=h;return i.default})()));